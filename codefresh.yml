version: '1.0'

steps:
  build-prj:
    type: build
    description: UC - build step
    image-name: codefreshio/yaml-example
    dockerfile: Dockerfile
    tag: ${{CF_BRANCH}}
    when:
      - condition: "'${{CF_BRANCH}}' == 'condition-step' && ('${{CF_BRANCH}}' != '123')"
      - condition: "'${{CF_BRANCH}}' == '${{CF_BRANCH}}'"

  freestyle-step:
    image: node:latest
    working-directory : ${{initial-clone}}
    commands:
        - npm -v
    when:
      - condition: "'${{CF_BRANCH}}' == 'condition-step'"
      - name: "Branch is test_me1"
        condition: "'${{CF_BRANCH}}' == 'condition-step'"
      - name: "Branch is test_me2"
        condition: "'${{CF_BRANCH}}' == 'condition-step1'"