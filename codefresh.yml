version: '1.0'

steps:

  build-prj:
    type: build
    description: UC - build step
    image-name: codefreshio/yaml-example
    dockerfile: Dockerfile
    tag: ${{CF_BRANCH}}

  unit_tests:
    image: ${{build_jjwt}}
    working_directory: ${{initial-clone}}
    fail-fast: false
    commands:
      - echo $(date)
      - env
      - ls .
      - echo "WHAT IS GOING ON!"
      - echo foo > foo.txt
      - echo After creation of file
      - ls .
      - echo $PWD

  validateFoo:
     image: ${{build_jjwt}}
     working-directory: ${{initial-clone}}
     commands:
        - pwd
        - ls
        - cat foo.txt
